use Demo
drop database Demo

drop table employees

create table employees
(
	e_id int identity primary key,
	e_first_name varchar(30) not null,
	e_last_name varchar(30) not null,
	e_email varchar(200) unique,
	e_phone varchar(20) unique,
	e_DOB date not null,
	e_gender bit not null,
	e_address varchar(200) not null,
	e_join_date date not null,
	d_id int not null foreign key references departments(d_id),
	des_id int not null foreign key references designations(des_id),
	c_id int not null foreign key references categories(c_id),
	e_menager_id int foreign key references employees
)

create table departments(
	d_id int identity primary key,
	d_name varchar(100) not null
)


create table designations(
	des_id int identity primary key,
	des_name varchar(30) not null
)


create table categories(
	c_id int identity primary key,
	c_name varchar(20) not null
)


create table experiences(
	ex_id int identity primary key,
	ex_title varchar(50) not null,
	ex_date date not null,
	e_id int foreign key references employees(e_id)
)


create table salary(
	sal_id int identity primary key,
	sal_date date not null,
	sal_amount money check(sal_amount >= 0),
	sal_status varchar(50),
	e_id int foreign key references employees(e_id)
)


create table attendence(
	at_id int identity primary key,
	at_status varchar(50) not null,
	at_date date not null,
	at_intime time not null,
	at_outtime time not null,
	e_id int foreign key references employees(e_id)
)


create table [users](
	u_id int identity primary key,
	u_name varchar(31) not null,
	u_password varchar(31) not null ,
	r_id int foreign key references [roles](r_id)
)


create table [roles](
	r_id int identity primary key,
	r_name varchar(50) not null
)